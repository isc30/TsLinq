!function(t,e){for(var r in e)t[r]=e[r]}(exports,function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=5)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.strictEqualityComparer=function(){return function(t,e){return t===e}},e.combineComparers=function(t,e){return function(r,n){return t(r,n)||e(r,n)}},e.createComparer=function(t,e,r){return void 0!==r?function(e,n){return r(t(e),t(n))}:e?function(e,r){var n=t(e),o=t(r);return n<o?-1:n>o?1:0}:function(e,r){var n=t(e),o=t(r);return n<o?1:n>o?-1:0}}},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(2),u=r(0),s=function(){function t(){}return t.prototype.toList=function(){return new c(this.toArray())},t.prototype.toDictionary=function(t,e){return h.fromArray(this.toArray(),t,e)},t.prototype.reverse=function(){return new i.ReverseEnumerable(this.asEnumerable())},t.prototype.concat=function(t){for(var e,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return(e=this.asEnumerable()).concat.apply(e,[t].concat(r))},t.prototype.contains=function(t){return this.any(function(e){return e===t})},t.prototype.where=function(t){return new i.ConditionalEnumerable(this.asEnumerable(),t)},t.prototype.select=function(t){return new i.TransformEnumerable(this.asEnumerable(),t)},t.prototype.selectMany=function(t){return this.select(function(e){var r=t(e);return r instanceof Array?new i.ArrayEnumerable(r):r.asEnumerable()}).toArray().reduce(function(t,e){return new i.ConcatEnumerable(t,e)},i.Enumerable.empty())},t.prototype.elementAt=function(t){var e=this.elementAtOrDefault(t);if(void 0===e)throw new Error("Out of bounds");return e},t.prototype.except=function(t){return this.asEnumerable().except(t)},t.prototype.first=function(t){var e;if(void 0===(e=void 0!==t?this.firstOrDefault(t):this.firstOrDefault()))throw new Error("Sequence contains no elements");return e},t.prototype.groupBy=function(t,e){for(var r=this.toArray(),n=new h,o=0;o<r.length;++o){var i=t(r[o]),u=void 0!==e?e(r[o]):r[o];n.containsKey(i)||n.set(i,new c),n.get(i).push(u)}return n.asEnumerable()},t.prototype.last=function(t){var e;if(void 0===(e=void 0!==t?this.lastOrDefault(t):this.lastOrDefault()))throw new Error("Sequence contains no elements");return e},t.prototype.single=function(t){var e;if(void 0===(e=void 0!==t?this.singleOrDefault(t):this.singleOrDefault()))throw new Error("Sequence contains no elements");return e},t.prototype.singleOrDefault=function(t){return void 0!==t?this.asEnumerable().singleOrDefault(t):this.asEnumerable().singleOrDefault()},t.prototype.skipWhile=function(t){return this.asEnumerable().skipWhile(t)},t.prototype.takeWhile=function(t){return this.asEnumerable().takeWhile(t)},t.prototype.sequenceEqual=function(t,e){return void 0!==e?this.asEnumerable().sequenceEqual(t,e):this.asEnumerable().sequenceEqual(t)},t.prototype.distinct=function(t){return new i.UniqueEnumerable(this.asEnumerable(),t)},t.prototype.min=function(t){return void 0!==t?new i.TransformEnumerable(this.asEnumerable(),t).min():this.aggregate(function(t,e){return void 0!==t&&t<e?t:e})},t.prototype.orderBy=function(t,e){return new i.OrderedEnumerable(this.asEnumerable(),u.createComparer(t,!0,e))},t.prototype.orderByDescending=function(t){return new i.OrderedEnumerable(this.asEnumerable(),u.createComparer(t,!1,void 0))},t.prototype.max=function(t){return void 0!==t?new i.TransformEnumerable(this.asEnumerable(),t).max():this.aggregate(function(t,e){return void 0!==t&&t>e?t:e})},t.prototype.sum=function(t){return this.aggregate(function(e,r){return e+t(r)},0)},t.prototype.skip=function(t){return new i.RangeEnumerable(this.asEnumerable(),t,void 0)},t.prototype.take=function(t){return new i.RangeEnumerable(this.asEnumerable(),void 0,t)},t.prototype.union=function(t){return new i.UniqueEnumerable(this.concat(t))},t.prototype.aggregate=function(t,e){return void 0!==e?this.asEnumerable().aggregate(t,e):this.asEnumerable().aggregate(t)},t.prototype.any=function(t){return void 0!==t?this.asEnumerable().any(t):this.asEnumerable().any()},t.prototype.all=function(t){return this.asEnumerable().all(t)},t.prototype.average=function(t){return this.asEnumerable().average(t)},t.prototype.count=function(t){return void 0!==t?this.asEnumerable().count(t):this.asEnumerable().count()},t.prototype.elementAtOrDefault=function(t){return this.asEnumerable().elementAtOrDefault(t)},t.prototype.firstOrDefault=function(t){return void 0!==t?this.asEnumerable().firstOrDefault(t):this.asEnumerable().firstOrDefault()},t.prototype.lastOrDefault=function(t){return void 0!==t?this.asEnumerable().lastOrDefault(t):this.asEnumerable().lastOrDefault()},t.prototype.forEach=function(t){return this.asEnumerable().forEach(t)},t.prototype.defaultIfEmpty=function(t){return void 0!==t?this.asEnumerable().defaultIfEmpty(t):this.asEnumerable().defaultIfEmpty()},t}();e.EnumerableCollection=s;var a=function(t){function e(e){void 0===e&&(e=[]);var r=t.call(this)||this;return r.source=e,r}return o(e,t),e.prototype.asArray=function(){return this.source},e.prototype.toArray=function(){return[].concat(this.source)},e.prototype.toList=function(){return new c(this.toArray())},e.prototype.asEnumerable=function(){return new i.ArrayEnumerable(this.source)},e.prototype.aggregate=function(t,e){return void 0!==e?this.source.reduce(t,e):this.source.reduce(t)},e.prototype.any=function(t){return void 0!==t?this.source.some(t):this.source.length>0},e.prototype.all=function(t){return this.source.every(t)},e.prototype.average=function(t){if(0===this.count())throw new Error("Sequence contains no elements");for(var e=0,r=0,n=this.source.length;r<n;++r)e+=t(this.source[r]);return e/this.source.length},e.prototype.count=function(t){return void 0!==t?this.source.filter(t).length:this.source.length},e.prototype.elementAtOrDefault=function(t){if(t<0)throw new Error("Negative index is forbiden");return this.source[t]},e.prototype.firstOrDefault=function(t){return void 0!==t?this.source.filter(t)[0]:this.source[0]},e.prototype.groupBy=function(t,e){for(var r=this.asArray(),n=new h,o=0;o<r.length;++o){var i=t(r[o]),u=void 0!==e?e(r[o]):r[o];n.containsKey(i)||n.set(i,new c),n.get(i).push(u)}return n.asEnumerable()},e.prototype.lastOrDefault=function(t){if(void 0!==t){var e=this.source.filter(t);return e[e.length-1]}return this.source[this.source.length-1]},e.prototype.forEach=function(t){for(var e=0,r=this.source.length;e<r;++e)t(this.source[e],e)},e.prototype.sequenceEqual=function(t,r){if(void 0===r&&(r=u.strictEqualityComparer()),t instanceof e||t instanceof Array){var n=this.asArray(),o=t instanceof e?t.asArray():t;if(n.length!=o.length)return!1;for(var i=0;i<n.length;++i)if(!r(n[i],o[i]))return!1;return!0}return this.asEnumerable().sequenceEqual(t,r)},e}(s);e.ArrayQueryable=a;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.copy=function(){return new e(this.toArray())},e.prototype.asReadOnly=function(){return this},e.prototype.clear=function(){this.source=[]},e.prototype.remove=function(t){for(var e=[],r=0,n=this.source.length;r<n;++r)this.source[r]!==t&&e.push(this.source[r]);this.source=e},e.prototype.removeAt=function(t){if(t<0||void 0===this.source[t])throw new Error("Out of bounds");return this.source.splice(t,1)[0]},e.prototype.get=function(t){return this.source[t]},e.prototype.push=function(t){return this.source.push(t)},e.prototype.pushRange=function(t){return t instanceof Array||(t=t.toArray()),this.source.push.apply(this.source,t)},e.prototype.pushFront=function(t){return this.source.unshift(t)},e.prototype.pop=function(){return this.source.pop()},e.prototype.popFront=function(){return this.source.shift()},e.prototype.set=function(t,e){if(t<0)throw new Error("Out of bounds");this.source[t]=e},e.prototype.insert=function(t,e){if(t<0||t>this.source.length)throw new Error("Out of bounds");this.source.splice(t,0,e)},e.prototype.indexOf=function(t){return this.source.indexOf(t)},e}(a);e.List=c;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.copy=function(){return new e(this.toArray())},e.prototype.clear=function(){this.source=[]},e.prototype.peek=function(){return this.source[this.source.length-1]},e.prototype.pop=function(){return this.source.pop()},e.prototype.push=function(t){return this.source.push(t)},e}(a);e.Stack=p;var h=function(t){function e(e){var r=t.call(this)||this;if(r.clear(),void 0!==e)for(var n=0;n<e.length;++n){var o=e[n];r.set(o.key,o.value)}return r}return o(e,t),e.fromArray=function(t,r,n){return new e(t.map(function(t){return{key:r(t),value:n(t)}}))},e.fromJsObject=function(t){return new e(new c(Object.getOwnPropertyNames(t)).select(function(e){return{key:e,value:t[e]}}).toArray())},e.prototype.copy=function(){return new e(this.toArray())},e.prototype.asReadOnly=function(){return this},e.prototype.asEnumerable=function(){return new i.ArrayEnumerable(this.toArray())},e.prototype.toArray=function(){var t=this;return this.getKeys().select(function(e){return{key:e,value:t.dictionary[e]}}).toArray()},e.prototype.clear=function(){this.dictionary={}},e.prototype.containsKey=function(t){return this.dictionary.hasOwnProperty(t)},e.prototype.containsValue=function(t){for(var e=this.getKeysFast(),r=0;r<e.length;++r)if(this.dictionary[e[r]]===t)return!0;return!1},e.prototype.getKeys=function(){var t=this,e=this.getKeysFast();return new c(e.map(function(e){return"number"===t.keyType?parseFloat(e):e}))},e.prototype.getKeysFast=function(){return Object.getOwnPropertyNames(this.dictionary)},e.prototype.getValues=function(){for(var t=this.getKeysFast(),e=new Array(t.length),r=0;r<t.length;++r)e[r]=this.dictionary[t[r]];return new c(e)},e.prototype.remove=function(t){this.containsKey(t)&&delete this.dictionary[t]},e.prototype.get=function(t){if(!this.containsKey(t))throw new Error("Key doesn't exist: "+t);return this.dictionary[t]},e.prototype.set=function(t,e){if(this.containsKey(t))throw new Error("Key already exists: "+t);this.setOrUpdate(t,e)},e.prototype.setOrUpdate=function(t,e){void 0===this.keyType&&(this.keyType=typeof t),this.dictionary[t]=e},e}(s);e.Dictionary=h},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(4),u=r(0),s=r(1),a=r(3),c=function(){function t(t){this.source=t}return t.prototype.reset=function(){this.source.reset()},t.prototype.next=function(){return this.source.next()},t.prototype.asEnumerable=function(){return this},t.prototype.toArray=function(){var t=[];for(this.reset();this.next();)t.push(this.value());return t},t.prototype.toList=function(){return new s.List(this.toArray())},t.prototype.toDictionary=function(t,e){return s.Dictionary.fromArray(this.toArray(),t,e)},t.prototype.count=function(t){if(void 0!==t)return new h(this,t).count();var e=0;for(this.reset();this.next();)++e;return e>>>0},t.prototype.any=function(t){return void 0!==t?new h(this,t).any():(this.reset(),this.next())},t.prototype.all=function(t){for(this.reset();this.next();)if(!t(this.value()))return!1;return!0},t.prototype.reverse=function(){return new w(this.copy())},t.prototype.contains=function(t){return this.any(function(e){return e===t})},t.prototype.sequenceEqual=function(t,e){void 0===e&&(e=u.strictEqualityComparer());var r=t instanceof Array?new g(t):t.asEnumerable();for(this.reset(),r.reset();this.next();)if(!r.next()||!e(this.value(),r.value()))return!1;return!r.next()},t.prototype.where=function(t){return new h(this.copy(),t)},t.prototype.select=function(t){return new m(this.copy(),t)},t.prototype.selectMany=function(t){return this.select(function(e){var r=t(e);return Array.isArray(r)?new g(r):r.asEnumerable()}).toArray().reduce(function(t,e){return new y(t,e)},p.empty())},t.prototype.skipWhile=function(t){return new l(this.copy(),t)},t.prototype.concat=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=function(t){return t instanceof Array?new g(t):t.asEnumerable()},o=new y(this.copy(),n(t).copy()),i=0,u=e.length;i<u;++i)o=new y(o,n(e[i]).copy());return o},t.prototype.defaultIfEmpty=function(t){return new E(this,t)},t.prototype.elementAt=function(t){var e=this.elementAtOrDefault(t);if(void 0===e)throw new Error("Out of bounds");return e},t.prototype.elementAtOrDefault=function(t){if(t<0)throw new Error("Negative index is forbiden");this.reset();for(var e=-1;this.next()&&++e!==t;);if(e===t)return this.value()},t.prototype.except=function(t){return this.where(function(e){return!t.contains(e)})},t.prototype.first=function(t){var e;if(void 0===(e=void 0!==t?this.firstOrDefault(t):this.firstOrDefault()))throw new Error("Sequence contains no elements");return e},t.prototype.firstOrDefault=function(t){return void 0!==t?new h(this,t).firstOrDefault():(this.reset(),this.next()?this.value():void 0)},t.prototype.forEach=function(t){this.reset();for(var e=0;this.next();++e)t(this.value(),e)},t.prototype.groupBy=function(t,e){for(var r=this.toArray(),n=new s.Dictionary,o=0;o<r.length;++o){var i=t(r[o]),u=void 0!==e?e(r[o]):r[o];n.containsKey(i)||n.set(i,new s.List),n.get(i).push(u)}return n.asEnumerable()},t.prototype.last=function(t){var e;if(void 0===(e=void 0!==t?this.lastOrDefault(t):this.lastOrDefault()))throw new Error("Sequence contains no elements");return e},t.prototype.lastOrDefault=function(t){if(void 0!==t)return new h(this,t).lastOrDefault();var e=new w(this);return e.reset(),e.next()?e.value():void 0},t.prototype.single=function(t){var e;if(void 0===(e=void 0!==t?this.singleOrDefault(t):this.singleOrDefault()))throw new Error("Sequence contains no elements");return e},t.prototype.singleOrDefault=function(t){if(void 0!==t)return new h(this,t).singleOrDefault();if(this.reset(),this.next()){var e=this.value();if(this.next())throw new Error("Sequence contains more than 1 element");return e}},t.prototype.distinct=function(t){return new d(this.copy(),t)},t.prototype.aggregate=function(t,e){var r=e;if(this.reset(),void 0===e){if(!this.next())throw new Error("Sequence contains no elements");r=t(r,this.value())}for(;this.next();)r=t(r,this.value());return r},t.prototype.min=function(t){return void 0!==t?new m(this,t).min():this.aggregate(function(t,e){return void 0!==t&&t<e?t:e})},t.prototype.orderBy=function(t,e){return new _(this.copy(),u.createComparer(t,!0,e))},t.prototype.orderByDescending=function(t){return new _(this.copy(),u.createComparer(t,!1,void 0))},t.prototype.max=function(t){return void 0!==t?new m(this,t).max():this.aggregate(function(t,e){return void 0!==t&&t>e?t:e})},t.prototype.sum=function(t){return this.aggregate(function(e,r){return e+t(r)},0)},t.prototype.average=function(t){if(this.reset(),!this.next())throw new Error("Sequence contains no elements");var e=0,r=0;do{e+=t(this.value()),++r}while(this.next());return e/r},t.prototype.skip=function(t){return new v(this.copy(),t,void 0)},t.prototype.take=function(t){return new v(this.copy(),void 0,t)},t.prototype.takeWhile=function(t){return new f(this.copy(),t)},t.prototype.union=function(t){return new d(this.concat(t))},t}();e.EnumerableBase=c;var p=function(t){function e(e){var r=t.call(this,e)||this;return r.currentValue=new a.Cached,r}return o(e,t),e.fromSource=function(t){return t instanceof Array?new g(t):new e(t)},e.empty=function(){return e.fromSource([])},e.range=function(t,e,r){if(void 0===r&&(r=!0),e<0)throw new Error("Count must be >= 0");var n=new Array(e);if(r)for(var o=0;o<e;n[o]=t+o++);else for(o=0;o<e;n[o]=t-o++);return new g(n)},e.repeat=function(t,e){if(e<0)throw new Error("Count must me >= 0");for(var r=new Array(e),n=0;n<e;++n)r[n]=t;return new g(r)},e.prototype.copy=function(){return new e(this.source.copy())},e.prototype.value=function(){return this.currentValue.isValid()||(this.currentValue.value=this.source.value()),this.currentValue.value},e.prototype.reset=function(){t.prototype.reset.call(this),this.currentValue.invalidate()},e.prototype.next=function(){return this.currentValue.invalidate(),t.prototype.next.call(this)},e}(c);e.Enumerable=p;var h=function(t){function e(e,r){var n=t.call(this,e)||this;return n.source=e,n._predicate=r,n}return o(e,t),e.prototype.copy=function(){return new e(this.source.copy(),this._predicate)},e.prototype.next=function(){var e;do{e=t.prototype.next.call(this)}while(e&&!this._predicate(this.value()));return e},e}(p);e.ConditionalEnumerable=h;var l=function(t){function e(e,r){var n=t.call(this,e)||this;return n.source=e,n._predicate=r,n._shouldContinueChecking=!0,n}return o(e,t),e.prototype.reset=function(){t.prototype.reset.call(this),this._shouldContinueChecking=!0},e.prototype.copy=function(){return new e(this.source.copy(),this._predicate)},e.prototype.next=function(){if(!this._shouldContinueChecking)return t.prototype.next.call(this);var e;do{e=t.prototype.next.call(this)}while(e&&this._predicate(this.value()));return this._shouldContinueChecking=!1,e},e}(p);e.SkipWhileEnumerable=l;var f=function(t){function e(e,r){var n=t.call(this,e)||this;return n.source=e,n._predicate=r,n._shouldContinueTaking=!0,n}return o(e,t),e.prototype.reset=function(){t.prototype.reset.call(this),this._shouldContinueTaking=!0},e.prototype.copy=function(){return new e(this.source.copy(),this._predicate)},e.prototype.next=function(){return!!(t.prototype.next.call(this)&&this._shouldContinueTaking&&this._predicate(this.value()))||(this._shouldContinueTaking=!1,!1)},e}(p);e.TakeWhileEnumerable=f;var y=function(t){function e(e,r){var n=t.call(this,e)||this;return n._otherSource=r,n._isFirstSourceFinished=!1,n}return o(e,t),e.prototype.copy=function(){return new e(this.source.copy(),this._otherSource.copy())},e.prototype.reset=function(){this.source.reset(),this._otherSource.reset(),this._isFirstSourceFinished=!1,this.currentValue.invalidate()},e.prototype.next=function(){this.currentValue.invalidate();var t=this._isFirstSourceFinished?this._otherSource.next():this.source.next();return t||this._isFirstSourceFinished?t:(this._isFirstSourceFinished=!0,this.next())},e.prototype.value=function(){return this.currentValue.isValid()||(this.currentValue.value=this._isFirstSourceFinished?this._otherSource.value():this.source.value()),this.currentValue.value},e}(p);e.ConcatEnumerable=y;var d=function(t){function e(e,r){var n=t.call(this,e)||this;return n.source=e,n._keySelector=r,n._seen={primitive:{number:{},string:{},boolean:{}},complex:[]},n}return o(e,t),e.prototype.copy=function(){return new e(this.source.copy(),this._keySelector)},e.prototype.reset=function(){t.prototype.reset.call(this),this._seen={primitive:{number:{},string:{},boolean:{}},complex:[]}},e.prototype.isUnique=function(t){var e=void 0!==this._keySelector?this._keySelector(t):t,r=typeof e;return r in this._seen.primitive?!this._seen.primitive[r].hasOwnProperty(e)&&(this._seen.primitive[r][e]=!0):-1===this._seen.complex.indexOf(e)&&this._seen.complex.push(e)>-1},e.prototype.next=function(){var e;do{e=t.prototype.next.call(this)}while(e&&!this.isUnique(this.value()));return e},e}(p);e.UniqueEnumerable=d;var v=function(t){function e(e,r,n){var o=t.call(this,e)||this;if(o.source=e,void 0!==r&&r<0||void 0!==n&&n<0)throw new Error("Incorrect parameters");return o._start=r,o._count=n,o._currentIndex=-1,o}return o(e,t),e.prototype.copy=function(){return new e(this.source.copy(),this._start,this._count)},e.prototype.reset=function(){t.prototype.reset.call(this),this._currentIndex=-1},e.prototype.isValidIndex=function(){var t=void 0!==this._start?this._start:0,e=void 0!==this._count?t+this._count:void 0;return this._currentIndex>=t&&(void 0===e||this._currentIndex<e)},e.prototype.performSkip=function(){for(var e=void 0!==this._start?this._start:0,r=!0;r&&this._currentIndex+1<e;)r=t.prototype.next.call(this),++this._currentIndex;return r},e.prototype.next=function(){return!(this._currentIndex<0&&!this.performSkip())&&(++this._currentIndex,t.prototype.next.call(this)&&this.isValidIndex())},e.prototype.value=function(){if(!this.isValidIndex())throw new Error("Out of bounds");return t.prototype.value.call(this)},e}(p);e.RangeEnumerable=v;var m=function(t){function e(e,r){var n=t.call(this,e)||this;return n.source=e,n._transform=r,n._currentValue=new a.Cached,n}return o(e,t),e.prototype.copy=function(){return new e(this.source.copy(),this._transform)},e.prototype.value=function(){return this._currentValue.isValid()||(this._currentValue.value=this._transform(this.source.value())),this._currentValue.value},e.prototype.reset=function(){t.prototype.reset.call(this),this._currentValue.invalidate()},e.prototype.next=function(){return this._currentValue.invalidate(),t.prototype.next.call(this)},e}(c);e.TransformEnumerable=m;var w=function(t){function e(e){var r=t.call(this,e)||this;return r.source=e,r._elements=new a.Cached,r._currentIndex=-1,r}return o(e,t),e.prototype.copy=function(){return new e(this.source.copy())},e.prototype.reset=function(){this._elements.invalidate(),this._currentIndex=-1},e.prototype.isValidIndex=function(){return this._currentIndex>=0&&this._currentIndex<this._elements.value.length},e.prototype.all=function(t){return this.source.all(t)},e.prototype.any=function(t){return void 0!==t?this.source.any(t):this.source.any()},e.prototype.average=function(t){return this.source.average(t)},e.prototype.count=function(t){return void 0!==t?this.source.count(t):this.source.count()},e.prototype.max=function(t){return void 0!==t?this.source.max(t):this.source.max()},e.prototype.min=function(t){return void 0!==t?this.source.min(t):this.source.min()},e.prototype.reverse=function(){return this.source.copy()},e.prototype.sum=function(t){return this.source.sum(t)},e.prototype.next=function(){return this._elements.isValid()||(this._elements.value=this.source.toArray()),++this._currentIndex,this.isValidIndex()},e.prototype.value=function(){if(!this._elements.isValid()||!this.isValidIndex())throw new Error("Out of bounds");return this._elements.value[this._elements.value.length-1-this._currentIndex]},e}(p);e.ReverseEnumerable=w;var _=function(t){function e(e,r){var n=t.call(this,e)||this;return n.source=e,n._comparer=r,n._elements=new a.Cached,n._currentIndex=-1,n}return o(e,t),e.prototype.isValidIndex=function(){return this._currentIndex>=0&&this._currentIndex<this._elements.value.length},e.prototype.orderBy=function(t,r){return new e(this.source.copy(),u.createComparer(t,!0,r))},e.prototype.orderByDescending=function(t){return new e(this.source.copy(),u.createComparer(t,!1,void 0))},e.prototype.thenBy=function(t,r){return new e(this.source.copy(),u.combineComparers(this._comparer,u.createComparer(t,!0,r)))},e.prototype.thenByDescending=function(t){return new e(this.source.copy(),u.combineComparers(this._comparer,u.createComparer(t,!1,void 0)))},e.prototype.reset=function(){this._elements.invalidate(),this._currentIndex=-1},e.prototype.copy=function(){return new e(this.source.copy(),this._comparer)},e.prototype.value=function(){if(!this._elements.isValid()||!this.isValidIndex())throw new Error("Out of bounds");return this._elements.value[this._currentIndex]},e.prototype.next=function(){return this._elements.isValid()||(this._elements.value=this.toArray()),++this._currentIndex,this.isValidIndex()},e.prototype.toArray=function(){return this.source.toArray().sort(this._comparer)},e}(c);e.OrderedEnumerable=_;var g=function(t){function e(e){var r=t.call(this,new i.ArrayIterator(e))||this;return r.list=new s.List(e),r}return o(e,t),e.prototype.toArray=function(){return this.list.toArray()},e.prototype.aggregate=function(t,e){return void 0!==e?this.list.aggregate(t,e):this.list.aggregate(t)},e.prototype.any=function(t){return void 0!==t?this.list.any(t):this.list.any()},e.prototype.all=function(t){return this.list.all(t)},e.prototype.average=function(t){return this.list.average(t)},e.prototype.count=function(t){return void 0!==t?this.list.count(t):this.list.count()},e.prototype.copy=function(){return new e(this.list.asArray())},e.prototype.elementAtOrDefault=function(t){return this.list.elementAtOrDefault(t)},e.prototype.firstOrDefault=function(t){return void 0!==t?this.list.firstOrDefault(t):this.list.firstOrDefault()},e.prototype.lastOrDefault=function(t){return void 0!==t?this.list.lastOrDefault(t):this.list.lastOrDefault()},e}(p);e.ArrayEnumerable=g;var E=function(t){function e(e,r){var n=t.call(this,e)||this;return n.source=e,n._mustUseDefaultValue=void 0,n._defaultValue=r,n}return o(e,t),e.prototype.copy=function(){return new e(this.source.copy(),this._defaultValue)},e.prototype.value=function(){return this._mustUseDefaultValue?this._defaultValue:this.source.value()},e.prototype.next=function(){var e=t.prototype.next.call(this);return this._mustUseDefaultValue=!e&&void 0===this._mustUseDefaultValue,this._mustUseDefaultValue||e},e.prototype.reset=function(){t.prototype.reset.call(this),this._mustUseDefaultValue=void 0},e}(c);e.DefaultIfEmptyEnumerable=E},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this._isValid=!1}return t.prototype.invalidate=function(){this._isValid=!1},t.prototype.isValid=function(){return this._isValid},Object.defineProperty(t.prototype,"value",{get:function(){if(!this._isValid)throw new Error("Trying to get value of invalid cache");return this._value},set:function(t){this._value=t,this._isValid=!0},enumerable:!0,configurable:!0}),t}();e.Cached=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this._index=-1,this.source=t,this.reset()}return t.prototype.copy=function(){return new t(this.source)},t.prototype.reset=function(){this._index=-1},t.prototype.isValidIndex=function(){return this._index>=0&&this._index<this.source.length},t.prototype.next=function(){return++this._index,this.isValidIndex()},t.prototype.value=function(){if(!this.isValidIndex())throw new Error("Out of bounds");return this.source[this._index]},t}();e.ArrayIterator=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2);e.Enumerable=n.Enumerable;var o=r(1);e.List=o.List,e.Dictionary=o.Dictionary,e.Stack=o.Stack;var i=r(0);e.strictEqualityComparer=i.strictEqualityComparer}]));